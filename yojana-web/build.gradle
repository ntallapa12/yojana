plugins {
    id "java"
    id "com.github.johnrengelman.shadow" version "1.2.0"
}

repositories {
    mavenCentral()
}

group 'in.factly'
version '1.0-SNAPSHOT'

sourceCompatibility = "1.8"
targetCompatibility = "1.8"

dependencies {
    compile "io.vertx:vertx-core:3.0.0"
    compile "io.vertx:vertx-web:3.0.0"
    compile "org.mvel:mvel2:2.2.6.Final"
    testCompile group: 'junit', name: 'junit', version: '4.11'
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.3'
}

shadowJar {
    classifier = "fat"

    manifest {
        attributes "Main-Class": "io.vertx.core.Starter"
        attributes "Main-Verticle": "in.factly.yojana.Server"
    }

    mergeServiceFiles {
        include "META-INF/services/io.vertx.core.spi.VerticleFactory"
    }
}
